<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="352px" preserveAspectRatio="none" style="width:307px;height:352px;background:#FFFFFF;" version="1.1" viewBox="0 0 307 352" width="307px" zoomAndPan="magnify"><defs/><g><ellipse cx="141.4102" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="242.8145" x="20.0029" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="222.8145" x="30.0029" y="71.1387">Get encounter for device and patient</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="200.2813" x="41.2695" y="152.3711"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180.2813" x="51.2695" y="173.5098">Cancel the existing encounter</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="260.8203" x="11" y="221.3398"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="240.8203" x="21" y="242.4785">Notify encounter cancelled to event bus</text><polygon fill="#F1F1F1" points="69.1501,103.9688,213.6702,103.9688,225.6702,115.9688,213.6702,127.9688,69.1501,127.9688,57.1501,115.9688,69.1501,103.9688" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="145.4102" y="138.1792">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144.52" x="69.1501" y="119.7769">Does the encounter exist?</text><polygon fill="#F1F1F1" points="141.4102,275.3086,153.4102,287.3086,141.4102,299.3086,129.4102,287.3086,141.4102,275.3086" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="141.4102" cy="330.3086" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="141.4102" cy="330.3086" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="141.4102" x2="141.4102" y1="30" y2="50"/><polygon fill="#181818" points="137.4102,40,141.4102,50,145.4102,40,141.4102,44" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="141.4102" x2="141.4102" y1="186.3398" y2="221.3398"/><polygon fill="#181818" points="137.4102,211.3398,141.4102,221.3398,145.4102,211.3398,141.4102,215.3398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="141.4102" x2="141.4102" y1="127.9688" y2="152.3711"/><polygon fill="#181818" points="137.4102,142.3711,141.4102,152.3711,145.4102,142.3711,141.4102,146.3711" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="225.6702" x2="281.8203" y1="115.9688" y2="115.9688"/><polygon fill="#181818" points="277.8203,193.8398,281.8203,203.8398,285.8203,193.8398,281.8203,197.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="281.8203" x2="281.8203" y1="115.9688" y2="287.3086"/><line style="stroke:#181818;stroke-width:1;" x1="281.8203" x2="153.4102" y1="287.3086" y2="287.3086"/><polygon fill="#181818" points="163.4102,283.3086,153.4102,287.3086,163.4102,291.3086,159.4102,287.3086" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="141.4102" x2="141.4102" y1="255.3086" y2="275.3086"/><polygon fill="#181818" points="137.4102,265.3086,141.4102,275.3086,145.4102,265.3086,141.4102,269.3086" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="141.4102" x2="141.4102" y1="83.9688" y2="103.9688"/><polygon fill="#181818" points="137.4102,93.9688,141.4102,103.9688,145.4102,93.9688,141.4102,97.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="141.4102" x2="141.4102" y1="299.3086" y2="319.3086"/><polygon fill="#181818" points="137.4102,309.3086,141.4102,319.3086,145.4102,309.3086,141.4102,313.3086" style="stroke:#181818;stroke-width:1;"/><!--SRC=[JOqn3eCm40Hxls9B-08KAH8fNVxWsEla97H6t872xmEX2DlkpAvvd3nqTpgegSxgd53gXCn54X4rOumkLE-353ItIeE_USBv4VDB2p4qAwtTQmtOqbsZ9Wu7lrEYhx_O7yoZkfJrj9T-qi0Ch-2oNUCvMn-eMKemh-CN]--></g></svg>